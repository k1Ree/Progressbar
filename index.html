<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circular Progress Bar with Smooth Animation</title>
    <style>
        .progress-circle {
            position: relative;
            width: 150px;
            height: 150px;
        }

        .progress-circle svg {
            transform: rotate(-90deg); /* Поворот на 90 градусов для корректного направления движения */
            width: 100%;
            height: 100%;
        }

        .progress-circle circle {
            fill: none;
            stroke-width: 10;
            stroke-linecap: round;
        }

        /* Фон круга */
        .progress-background {
            stroke: #e0e0e0;
        }

        /* Круг прогресса */
        .progress-bar {
            stroke: red;
            stroke-dasharray: 440; /* длина круга */
            stroke-dashoffset: 440; /* изначально скрываем */
            transition: stroke-dashoffset 1s ease; /* добавляем плавный переход */
        }

        /* Число в центре круга */
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <h1>Circular Progress Bar with Smooth Animation</h1>

    <!-- Круговой прогресс-бар -->
    <div class="progress-circle">
        <svg>
            <!-- Фоновый круг -->
            <circle class="progress-background" cx="75" cy="75" r="70"></circle>
            <!-- Круг прогресса -->
            <circle class="progress-bar" cx="75" cy="75" r="70"></circle>
        </svg>
        <!-- Число внутри круга -->
        <div class="progress-text" id="progress-text">0%</div>
    </div>

    <!-- Поле для ввода числа -->
    <input type="number" id="progress-input" min="0" max="100" value="48" placeholder="Enter percentage (0-100)">
    <button onclick="updateProgress()">Set Progress</button>

    <script>
        function updateProgress() {
            let progressBar = document.querySelector('.progress-bar');
            let progressText = document.getElementById('progress-text');
            let inputValue = document.getElementById('progress-input').value;

            // Проверяем, что значение находится в пределах 0-100
            if (inputValue < 0 || inputValue > 100 || inputValue === "") {
                alert("Please enter a value between 0 and 100.");
                return;
            }

            let progress = parseInt(inputValue); // Получаем значение из input
            let offset = 440 - (440 * progress) / 100; // Вычисляем сдвиг для прогресса
            
            // Обновляем стиль прогресс-бара и текст в центре круга
            progressBar.style.strokeDashoffset = offset; // Обновляем сдвиг
            progressText.innerHTML = progress + "%"; // Обновляем текст
        }
    </script>

</body>
</html>